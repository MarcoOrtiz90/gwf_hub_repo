{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="main-panel">
    {% include 'navbar.html' %}
    <div class="content">
        <h2 class="amazon-main-opaque">Paramount Task Extractor </h2>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <div class="card card-stats">
                        <div class="card-header card-header-success card-header-icon">
                            <div class="card-icon">
                                <img src="{% static '/imgs/data-copy-small.png' %}" alt="Task Extractor">                                
                            </div>
                        </div>
                        <div class="card-body" style="text-align: left;">
                            {% include 'extractor_form.html' %}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card card-stats">
                        <div class="card-body" style="text-align: left;">
                            <p style="color: grey;">The <strong class="neo-tint">Task Extractor</strong> allows to copy tasks from within an exisiting paramount workflow into another canvas from a different workflow container.</p>
                            <p style="color: grey;">How to:</p>
                            <ol>
                                <li style="color:grey;">Paste the BPMN Code from the Paramount Workflow in which the desired task is into the textbox labeled: "From".</li>
                                <li style="color:grey;">Paste the BPMN Code from the Paramount Workflow in which you want the task/s to be copied into the textbox labeled: "To".</li>
                                <li style="color:grey;">Paste the name of the task/s that you want to copy to your workflow into the "Tasks" textfield. Multiple tasks can be added. Make sure all task names correspond to the name in the paramount workflow, any mispelling can cause a malfunction while evaluating the final request</li>
                                <li style="color:grey;">Once ready, click the "Insert Tasks" button to begin the evaluation and copy the requested task/s.</li>
                            </ol>       
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    {% if output_code %}
                    <div class="card card-stats">
                        <div class="card-body" style="text-align: left;">
                            <div class="container-fluid">
                                <h3 style="color: rgba(0,128,0, 0.5);">BPMN Code with copied Task/s</h3> 
                                <button onclick="copyToClipboard('extractor')"  class="btn btn-sm btn-info" type="button" style="float:left; margin-right: 10px">Copy to clipboard</button>
                                <pre><textarea cols="80" rows="20" style="float: left; margin-top: 5px">{{ output_code }}</textarea></pre>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% if data_error %}
                    <div class="card card-stats">
                        <div class="card-body" style="text-align: left;">
                            <div class="container-fluid">
                                <h3 style="color: rgba(0,128,0, 0.5);">BPMN Code with copied Task/s</h3>
                                <button onclick="copyToClipboard('extractor')"  class="btn btn-sm btn-info" type="button" style="float:left; margin-right: 10px">Copy to clipboard</button>
                                <pre><textarea cols="80" rows="5" style="color:red float: left; margin-top: 5px">{{ data_error }}</textarea></pre>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
                <div class="col-md-4"></div>
            </div>
        </div>
    </div>
</div>
{% endblock content%}
